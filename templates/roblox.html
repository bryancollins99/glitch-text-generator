{% extends "base.html" %}

{% block title %}Roblox Glitch Text Generator - Cool Fonts & Names for Roblox{% endblock %}

{% block head %}
<meta name="description" content="ğŸ® FREE Roblox Glitch Text Generator! Create cool glitched usernames, chat messages & bios for Roblox. Instant copy-paste, works 100% in-game. Stand out from other players!">
<meta name="keywords" content="roblox glitch text generator, roblox fonts, roblox username generator, roblox text effects, glitch text roblox">
{% endblock %}

{% block og_title %}Roblox Glitch Text Generator - Cool Fonts & Names for Roblox{% endblock %}
{% block og_description %}ğŸ® FREE Roblox Glitch Text Generator! Create cool glitched usernames, chat messages & bios for Roblox. Instant copy-paste, works 100% in-game. Stand out from other players!{% endblock %}

{% block content %}
<h1 class="main-title">Roblox Glitch Text Generator</h1>
<p class="subtitle">Create cool glitch effects for your Roblox username and chat messages</p>

<div class="controls-panel">
    <div class="control-group">
        <label for="effect-type">Roblox Style:</label>
        <select id="effect-type" class="effect-select">
            <option value="aesthetic">Aesthetic Style</option>
            <option value="fancy">Fancy Letters</option>
            <option value="bubble">Bubble Text</option>
            <option value="square">Square Style</option>
            <option value="medieval">Medieval Font</option>
        </select>
    </div>
    
    <div class="control-group">
        <label for="font-family">Text Case:</label>
        <select id="font-family" class="font-select">
            <option value="normal">Normal Case</option>
            <option value="upper">UPPERCASE</option>
            <option value="lower">lowercase</option>
            <option value="alt">aLtErNaTiNg CaSe</option>
        </select>
    </div>
</div>

<div class="text-editor">
    <div class="input-container">
        <div class="editor-header">Input Text</div>
        <textarea id="input-text" placeholder="Enter your Roblox username or message here..." class="glitch-input"></textarea>
    </div>
    
    <div class="output-container">
        <div class="editor-header">
            Roblox Chat Preview
            <button id="copy-btn" class="btn-copy">Copy</button>
        </div>
        <div class="roblox-chat-container">
            <div class="roblox-chat-bubble">
                <div id="output-text" class="glitch-output"></div>
            </div>
            <div class="roblox-chat-tail"></div>
        </div>
        <div class="share-buttons">
            <button class="share-button" onclick="downloadAsImage()">
                <i class="fas fa-download"></i> Download as Image
            </button>
        </div>
    </div>
</div>

<div class="roblox-info">
    <h3>Roblox Text Guidelines</h3>
    <div class="info-grid">
        <div class="info-card">
            <h4>Username Rules</h4>
            <ul>
                <li>3-20 characters long</li>
                <li>Letters, numbers, and underscores only</li>
                <li>Must start with a letter</li>
                <li>No spaces allowed</li>
            </ul>
        </div>
        
        <div class="info-card">
            <h4>Chat Rules</h4>
            <ul>
                <li>Keep it appropriate</li>
                <li>Avoid excessive symbols</li>
                <li>Don't spam</li>
                <li>Follow Roblox community guidelines</li>
            </ul>
        </div>
        
        <div class="info-card">
            <h4>Popular Styles</h4>
            <ul>
                <li>ğ“•ğ“ªğ“·ğ“¬ğ”‚ (Fancy)</li>
                <li>ã€Cã€‘ã€oã€‘ã€oã€‘ã€lã€‘(Square)</li>
                <li>á—·Oá’ªá—ª (Bold)</li>
                <li>ğ•Šğ•¡ğ•–ğ•”ğ•šğ•’ğ• (Special)</li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const inputText = document.getElementById('input-text');
    const outputText = document.getElementById('output-text');
    const effectType = document.getElementById('effect-type');
    const textCase = document.getElementById('font-family');

    async function updateRobloxOutput() {
        let text = inputText.value;
        const style = effectType.value;
        const casing = textCase.value;

        if (!text) {
            outputText.textContent = '';
            return;
        }

        // Handle casing
        if (casing === 'upper') text = text.toUpperCase();
        else if (casing === 'lower') text = text.toLowerCase();
        else if (casing === 'alt') {
            text = text.split('').map((char, i) => i % 2 === 0 ? char.toLowerCase() : char.toUpperCase()).join('');
        }

        try {
            const response = await fetch('/api/glitch', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    text: text,
                    effect: 'none',
                    font_style: style,
                    intensity: 1
                })
            });
            const data = await response.json();
            if (data.result) {
                outputText.textContent = data.result;
            }
        } catch (e) {
            console.error(e);
        }
    }

    inputText.addEventListener('input', updateRobloxOutput);
    effectType.addEventListener('change', updateRobloxOutput);
    textCase.addEventListener('change', updateRobloxOutput);
    
    updateRobloxOutput();
});

function downloadAsImage() {
    const text = document.getElementById('output-text').textContent;
    if (text) {
        localStorage.setItem('glitch_prefill_text', text);
        window.location.href = '/text-to-image';
    }
}
</script>
{% endblock %}
<style>
.roblox-chat-container {
    padding: 40px 20px;
    background: #393B3D; /* Classic Roblox dark theme background */
    border-radius: 8px;
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    margin-bottom: 20px;
}

.roblox-chat-bubble {
    background: #FFFFFF;
    color: #111;
    padding: 12px 18px;
    border-radius: 12px;
    font-family: 'Gotham SSm A', 'Gotham SSm B', Helvetica, Arial, sans-serif;
    font-size: 16px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    max-width: 90%;
    position: relative;
    z-index: 2;
}

.roblox-chat-tail {
    width: 0;
    height: 0;
    border-left: 10px solid transparent;
    border-right: 10px solid transparent;
    border-top: 15px solid #FFFFFF;
    position: relative;
    left: 20px;
    top: -2px;
    z-index: 1;
}

.glitch-output {
    word-break: break-all;
    min-height: 20px;
}

.roblox-info {
    margin-top: 2rem;
    background: rgba(0, 0, 0, 0.7);
    padding: 1.5rem;
    border-radius: 10px;
    border: 1px solid var(--primary-color);
}

.info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin-top: 1rem;
}

.info-card {
    background: rgba(255, 255, 255, 0.1);
    padding: 1rem;
    border-radius: 8px;
    border: 1px solid var(--secondary-color);
}

.info-card h4 {
    color: var(--primary-color);
    margin-top: 0;
    margin-bottom: 1rem;
}

.info-card ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.info-card li {
    margin-bottom: 0.5rem;
    padding-left: 1.5rem;
    position: relative;
}

.info-card li:before {
    content: 'â†’';
    position: absolute;
    left: 0;
    color: var(--secondary-color);
}
</style>
{% endblock %}
